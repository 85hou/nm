"use strict";+function(a){var t=new Vue({el:"#nm-private-list",data:{items:[]},methods:{greet:function(e){var s=a(e.target),i=s.data("id");console.log(i);var n="id="+i+"&action=nm_delete";a.ajax({url:nm_ajax_url.ajax_url,type:"POST",dataType:"json",data:n,success:function(a){if(500==a.status)alert(a.message);else for(var e=0;e<t.items.length;e++)if(console.log(t.items[e].id),t.items[e].id==i)return t.items.splice(e,1)}})}}});a.ajax({url:nm_ajax_url.ajax_url+"?action=nm_get",type:"GET",dataType:"json",success:function(e){var s=[];a.map(e.data,function(a,t){s.push(a)});t.items=s}});var e=a("#nm-form");e.on("submit",function(e){e.preventDefault();var s=a("#ssfgg").val();s=s.match(/album\?id=(\d+)/gi);var i=a(".nm-form-submit");if(!s.length)return alert("输出正确的地址");var n=s[0].replace(/album\?id=/g,""),r="id="+n+"&action=nm_add";i.attr("disabled",!0),a(".loading-info").removeClass("hide"),a.ajax({url:nm_ajax_url.ajax_url,type:"POST",dataType:"json",data:r,success:function(e){500==e.status?alert(e.message):(t.items.push(e.data),a("#ssfgg").val(""),a(".loading-info").addClass("hide"),i.attr("disabled",!1))}})})}(jQuery);