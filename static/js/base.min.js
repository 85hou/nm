var $=jQuery.noConflict();(function(t,e){"function"===typeof define&&define.amd?define(["jquery"],e):t.jQuery?e(t.jQuery):e(t.Zepto)})(this,function(t){t.fn.jPlayer=function(e){var s="string"===typeof e,i=Array.prototype.slice.call(arguments,1),a=this,e=!s&&i.length?t.extend.apply(null,[!0,e].concat(i)):e;if(s&&"_"===e.charAt(0))return a;s?this.each(function(){var s=t(this).data("jPlayer"),l=s&&t.isFunction(s[e])?s[e].apply(s,i):s;if(l!==s&&void 0!==l)return a=l,!1}):this.each(function(){var s=t(this).data("jPlayer");s?s.option(e||{}):t(this).data("jPlayer",new t.jPlayer(e,this))});return a};t.jPlayer=function(e,s){if(arguments.length){this.element=t(s);this.options=t.extend(!0,{},this.options,e);var i=this;this.element.bind("remove.jPlayer",function(){i.destroy()});this._init()}};"function"!==typeof t.fn.stop&&(t.fn.stop=function(){});t.jPlayer.emulateMethods="load play pause";t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";t.jPlayer.emulateOptions="muted volume";t.jPlayer.reservedEvent="ready flashreset resize repeat error warning";t.jPlayer.event={};t.each("ready flashreset resize repeat click error warning loadstart progress suspend abort emptied stalled play pause loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange".split(" "),function(){t.jPlayer.event[this]="jPlayer_"+this});t.jPlayer.htmlEvent="loadstart abort emptied stalled loadedmetadata loadeddata canplay canplaythrough".split(" ");t.jPlayer.pause=function(){t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})};t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var e=function(){this.init()};e.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){var e=new Date((t&&typeof t==="number"?t:0)*1e3),s=e.getUTCHours(),t=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+s*60,e=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+t*60,s=this.options.timeFormat.padHour&&s<10?"0"+s:s,t=this.options.timeFormat.padMin&&t<10?"0"+t:t,e=this.options.timeFormat.padSec&&e<10?"0"+e:e,s=""+(this.options.timeFormat.showHour?s+this.options.timeFormat.sepHour:""),s=s+(this.options.timeFormat.showMin?t+this.options.timeFormat.sepMin:"");return s=s+(this.options.timeFormat.showSec?e+this.options.timeFormat.sepSec:"")}};var s=new e;t.jPlayer.convertTime=function(t){return s.time(t)};t.jPlayer.uaBrowser=function(t){var t=t.toLowerCase(),e=/(opera)(?:.*version)?[ \/]([\w.]+)/,s=/(msie) ([\w.]+)/,i=/(mozilla)(?:.*? rv:([\w.]+))?/,t=/(webkit)[ \/]([\w.]+)/.exec(t)||e.exec(t)||s.exec(t)||t.indexOf("compatible")<0&&i.exec(t)||[];return{browser:t[1]||"",version:t[2]||"0"}};t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),s=/(android)/,i=/(mobile)/,t=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(e)||[],e=/(ipad|playbook)/.exec(e)||!i.exec(e)&&s.exec(e)||[];t[1]&&(t[1]=t[1].replace(/\s/g,"_"));return{platform:t[1]||"",tablet:e[1]||""}};t.jPlayer.browser={};t.jPlayer.platform={};var i=t.jPlayer.uaBrowser(navigator.userAgent);i.browser&&(t.jPlayer.browser[i.browser]=!0,t.jPlayer.browser.version=i.version);i=t.jPlayer.uaPlatform(navigator.userAgent);i.platform&&(t.jPlayer.platform[i.platform]=!0,t.jPlayer.platform.mobile=!i.tablet,t.jPlayer.platform.tablet=!!i.tablet);t.jPlayer.getDocMode=function(){var e;if(t.jPlayer.browser.msie)if(document.documentMode)e=document.documentMode;else{e=5;document.compatMode&&document.compatMode==="CSS1Compat"&&(e=7)}return e};t.jPlayer.browser.documentMode=t.jPlayer.getDocMode();t.jPlayer.nativeFeatures={init:function(){var t=document,e=t.createElement("video"),s={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""]},i=["w3c","moz","webkit","webkitVideo"],a,l;this.fullscreen=e={support:{w3c:!!t[s.w3c[0]],moz:!!t[s.moz[0]],webkit:typeof t[s.webkit[3]]==="function",webkitVideo:typeof e[s.webkitVideo[2]]==="function"},used:{}};a=0;for(l=i.length;a<l;a++){var n=i[a];if(e.support[n]){e.spec=n;e.used[n]=true;break}}if(e.spec){var o=s[e.spec];e.api={fullscreenEnabled:true,fullscreenElement:function(e){e=e?e:t;return e[o[1]]},requestFullscreen:function(t){return t[o[2]]()},exitFullscreen:function(e){e=e?e:t;return e[o[3]]()}};e.event={fullscreenchange:o[4],fullscreenerror:o[5]}}else{e.api={fullscreenEnabled:false,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}};e.event={}}}};t.jPlayer.nativeFeatures.init();t.jPlayer.focus=null;t.jPlayer.keyIgnoreElementNames="INPUT TEXTAREA";var a=function(e){var s=t.jPlayer.focus,i;if(s){t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(t,s){if(e.target.nodeName.toUpperCase()===s.toUpperCase()){i=true;return false}});i||t.each(s.options.keyBindings,function(i,a){if(a&&e.which===a.key&&t.isFunction(a.fn)){e.preventDefault();a.fn(s);return false}})}};t.jPlayer.keys=function(e){t(document.documentElement).unbind("keydown.jPlayer");e&&t(document.documentElement).bind("keydown.jPlayer",a)};t.jPlayer.keys(!0);t.jPlayer.prototype={count:0,version:{script:"2.5.1",needFlash:"2.5.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:.8,muted:!1,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:32,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:13,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:8,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:38,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:40,fn:function(t){t.volume(t.options.volume-.1)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var e=this;this.element.empty();this.status=t.extend({},this.status);this.internal=t.extend({},this.internal);this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat);this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod;this.internal.domNode=this.element.get(0);if(this.options.keyEnabled&&!t.jPlayer.focus)t.jPlayer.focus=this;this.formats=[];this.solutions=[];this.require={};this.htmlElement={};this.html={};this.html.audio={};this.html.video={};this.flash={};this.css={};this.css.cs={};this.css.jq={};this.ancestorJq=[];this.options.volume=this._limitValue(this.options.volume,0,1);t.each(this.options.supplied.toLowerCase().split(","),function(s,i){var a=i.replace(/^\s+|\s+$/g,"");if(e.format[a]){var l=false;t.each(e.formats,function(t,e){if(a===e){l=true;return false}});l||e.formats.push(a)}});t.each(this.options.solution.toLowerCase().split(","),function(s,i){var a=i.replace(/^\s+|\s+$/g,"");if(e.solution[a]){var l=false;t.each(e.solutions,function(t,e){if(a===e){l=true;return false}});l||e.solutions.push(a)}});this.internal.instance="jp_"+this.count;this.instances[this.internal.instance]=this.element;this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count);this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element});this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:void 0});this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:void 0});this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:void 0,swf:this.options.swfPath+(this.options.swfPath.toLowerCase().slice(-4)!==".swf"?(this.options.swfPath&&this.options.swfPath.slice(-1)!=="/"?"/":"")+"Jplayer.swf":"")});this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:void 0});t.each(t.jPlayer.event,function(t,s){if(e.options[t]!==void 0){e.element.bind(s+".jPlayer",e.options[t]);e.options[t]=void 0}});this.require.audio=false;this.require.video=false;t.each(this.formats,function(t,s){e.require[e.format[s].media]=true});this.options=this.require.video?t.extend(true,{},this.optionsVideo,this.options):t.extend(true,{},this.optionsAudio,this.options);this._setSize();this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this.status.noVolume=this._uaBlocklist(this.options.noVolume);t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners();this._restrictNativeVideoControls();this.htmlElement.poster=document.createElement("img");this.htmlElement.poster.id=this.internal.poster.id;this.htmlElement.poster.onload=function(){(!e.status.video||e.status.waitForPlay)&&e.internal.poster.jq.show()};this.element.append(this.htmlElement.poster);this.internal.poster.jq=t("#"+this.internal.poster.id);this.internal.poster.jq.css({width:this.status.width,height:this.status.height});this.internal.poster.jq.hide();this.internal.poster.jq.bind("click.jPlayer",function(){e._trigger(t.jPlayer.event.click)});this.html.audio.available=false;if(this.require.audio){this.htmlElement.audio=document.createElement("audio");this.htmlElement.audio.id=this.internal.audio.id;this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)}this.html.video.available=false;if(this.require.video){this.htmlElement.video=document.createElement("video");this.htmlElement.video.id=this.internal.video.id;this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)}this.flash.available=this._checkForFlash(10.1);this.html.canPlay={};this.flash.canPlay={};t.each(this.formats,function(t,s){e.html.canPlay[s]=e.html[e.format[s].media].available&&""!==e.htmlElement[e.format[s].media].canPlayType(e.format[s].codec);e.flash.canPlay[s]=e.format[s].flashCanPlay&&e.flash.available});this.html.desired=false;this.flash.desired=false;t.each(this.solutions,function(s,i){if(s===0)e[i].desired=true;else{var a=false,l=false;t.each(e.formats,function(t,s){e[e.solutions[0]].canPlay[s]&&(e.format[s].media==="video"?l=true:a=true)});e[i].desired=e.require.audio&&!a||e.require.video&&!l}});this.html.support={};this.flash.support={};t.each(this.formats,function(t,s){e.html.support[s]=e.html.canPlay[s]&&e.html.desired;e.flash.support[s]=e.flash.canPlay[s]&&e.flash.desired});this.html.used=false;this.flash.used=false;t.each(this.solutions,function(s,i){t.each(e.formats,function(t,s){if(e[i].support[s]){e[i].used=true;return false}})});this._resetActive();this._resetGate();this._cssSelectorAncestor(this.options.cssSelectorAncestor);if(!this.html.used&&!this.flash.used){this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION});this.css.jq.noSolution.length&&this.css.jq.noSolution.show()}else this.css.jq.noSolution.length&&this.css.jq.noSolution.hide();if(this.flash.used){var s,i="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){i=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+i+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];s=document.createElement('<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>');for(var a=0;a<i.length;a++)s.appendChild(document.createElement(i[a]))}else{a=function(t,e,s){var i=document.createElement("param");i.setAttribute("name",e);i.setAttribute("value",s);t.appendChild(i)};s=document.createElement("object");s.setAttribute("id",this.internal.flash.id);s.setAttribute("name",this.internal.flash.id);s.setAttribute("data",this.internal.flash.swf);s.setAttribute("type","application/x-shockwave-flash");s.setAttribute("width","1");s.setAttribute("height","1");s.setAttribute("tabindex","-1");a(s,"flashvars",i);a(s,"allowscriptaccess","always");a(s,"bgcolor",this.options.backgroundColor);a(s,"wmode",this.options.wmode)}this.element.append(s);this.internal.flash.jq=t(s)}this.status.playbackRateEnabled=this.html.used&&!this.flash.used?this._testPlaybackRate("audio"):false;this._updatePlaybackRate();if(this.html.used){if(this.html.audio.available){this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio);this.element.append(this.htmlElement.audio);this.internal.audio.jq=t("#"+this.internal.audio.id)}if(this.html.video.available){this._addHtmlEventListeners(this.htmlElement.video,this.html.video);this.element.append(this.htmlElement.video);this.internal.video.jq=t("#"+this.internal.video.id);this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"});this.internal.video.jq.bind("click.jPlayer",function(){e._trigger(t.jPlayer.event.click)})}}this.options.emulateHtml&&this._emulateHtmlBridge();this.html.used&&!this.flash.used&&setTimeout(function(){e.internal.ready=true;e.version.flash="n/a";e._trigger(t.jPlayer.event.repeat);e._trigger(t.jPlayer.event.ready)},100);this._updateNativeVideoControls();this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();t.jPlayer.prototype.count++},destroy:function(){this.clearMedia();this._removeUiClass();this.css.jq.currentTime.length&&this.css.jq.currentTime.text("");this.css.jq.duration.length&&this.css.jq.duration.text("");t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")});this.internal.poster.jq.unbind(".jPlayer");this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer");this._fullscreenRemoveEventListeners();if(this===t.jPlayer.focus)t.jPlayer.focus=null;this.options.emulateHtml&&this._destroyHtmlBridge();this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{t.canPlayType(this.format.mp3.codec);return true}catch(e){return false}},_testPlaybackRate:function(t){t=document.createElement(typeof t==="string"?t:"audio");try{if("playbackRate"in t){t.playbackRate=.5;return t.playbackRate===.5}return false}catch(e){return false}},_uaBlocklist:function(e){var s=navigator.userAgent.toLowerCase(),i=false;t.each(e,function(t,e){if(e&&e.test(s)){i=true;return false}});return i},_restrictNativeVideoControls:function(){if(this.require.audio&&this.status.nativeVideoControls){this.status.nativeVideoControls=false;this.status.noFullWindow=true}},_updateNativeVideoControls:function(){if(this.html.video.available&&this.html.used){this.htmlElement.video.controls=this.status.nativeVideoControls;this._updateAutohide();if(this.status.nativeVideoControls&&this.require.video){this.internal.poster.jq.hide();this.internal.video.jq.css({width:this.status.width,height:this.status.height})}else if(this.status.waitForPlay&&this.status.video){this.internal.poster.jq.show();this.internal.video.jq.css({width:"0px",height:"0px"})}}},_addHtmlEventListeners:function(e,s){var i=this;e.preload=this.options.preload;e.muted=this.options.muted;e.volume=this.options.volume;if(this.status.playbackRateEnabled){e.defaultPlaybackRate=this.options.defaultPlaybackRate;e.playbackRate=this.options.playbackRate}e.addEventListener("progress",function(){if(s.gate){if(i.internal.cmdsIgnored&&this.readyState>0)i.internal.cmdsIgnored=false;i._getHtmlStatus(e);i._updateInterface();i._trigger(t.jPlayer.event.progress)}},false);e.addEventListener("timeupdate",function(){if(s.gate){i._getHtmlStatus(e);i._updateInterface();i._trigger(t.jPlayer.event.timeupdate)}},false);e.addEventListener("durationchange",function(){if(s.gate){i._getHtmlStatus(e);i._updateInterface();i._trigger(t.jPlayer.event.durationchange)}},false);e.addEventListener("play",function(){if(s.gate){i._updateButtons(true);i._html_checkWaitForPlay();i._trigger(t.jPlayer.event.play)}},false);e.addEventListener("playing",function(){if(s.gate){i._updateButtons(true);i._seeked();i._trigger(t.jPlayer.event.playing)}},false);e.addEventListener("pause",function(){if(s.gate){i._updateButtons(false);i._trigger(t.jPlayer.event.pause)}},false);e.addEventListener("waiting",function(){if(s.gate){i._seeking();i._trigger(t.jPlayer.event.waiting)}},false);e.addEventListener("seeking",function(){if(s.gate){i._seeking();i._trigger(t.jPlayer.event.seeking)}},false);e.addEventListener("seeked",function(){if(s.gate){i._seeked();i._trigger(t.jPlayer.event.seeked)}},false);e.addEventListener("volumechange",function(){if(s.gate){i.options.volume=e.volume;i.options.muted=e.muted;i._updateMute();i._updateVolume();i._trigger(t.jPlayer.event.volumechange)}},false);e.addEventListener("ratechange",function(){if(s.gate){i.options.defaultPlaybackRate=e.defaultPlaybackRate;i.options.playbackRate=e.playbackRate;i._updatePlaybackRate();i._trigger(t.jPlayer.event.ratechange)}},false);e.addEventListener("suspend",function(){if(s.gate){i._seeked();i._trigger(t.jPlayer.event.suspend)}},false);e.addEventListener("ended",function(){if(s.gate){if(!t.jPlayer.browser.webkit)i.htmlElement.media.currentTime=0;i.htmlElement.media.pause();i._updateButtons(false);i._getHtmlStatus(e,true);i._updateInterface();i._trigger(t.jPlayer.event.ended)}},false);e.addEventListener("error",function(){if(s.gate){i._updateButtons(false);i._seeked();if(i.status.srcSet){clearTimeout(i.internal.htmlDlyCmdId);i.status.waitForLoad=true;i.status.waitForPlay=true;i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"});i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show();i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show();i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})}}},false);t.each(t.jPlayer.htmlEvent,function(a,l){e.addEventListener(this,function(){s.gate&&i._trigger(t.jPlayer.event[l])},false)})},_getHtmlStatus:function(t,e){var s=0,i=0,a=0,l=0;if(isFinite(t.duration))this.status.duration=t.duration;s=t.currentTime;i=this.status.duration>0?100*s/this.status.duration:0;if(typeof t.seekable==="object"&&t.seekable.length>0){a=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100;l=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0}else{a=100;l=i}if(e)i=l=s=0;this.status.seekPercent=a;this.status.currentPercentRelative=l;this.status.currentPercentAbsolute=i;this.status.currentTime=s;this.status.videoWidth=t.videoWidth;this.status.videoHeight=t.videoHeight;this.status.readyState=t.readyState;this.status.networkState=t.networkState;this.status.playbackRate=t.playbackRate;this.status.ended=t.ended},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,s,i){e=t.Event(e);e.jPlayer={};e.jPlayer.version=t.extend({},this.version);e.jPlayer.options=t.extend(true,{},this.options);e.jPlayer.status=t.extend(true,{},this.status);e.jPlayer.html=t.extend(true,{},this.html);e.jPlayer.flash=t.extend(true,{},this.flash);if(s)e.jPlayer.error=t.extend({},s);if(i)e.jPlayer.warning=t.extend({},i);this.element.trigger(e)},jPlayerFlashEvent:function(e,s){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,a=this.status.paused;this.setMedia(this.status.media);this.volumeWorker(this.options.volume);i>0&&(a?this.pause(i):this.play(i))}this._trigger(t.jPlayer.event.flashreset)}}else{this.internal.ready=true;this.internal.flash.jq.css({width:"0px",height:"0px"});this.version.flash=s.version;this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION});this._trigger(t.jPlayer.event.repeat);this._trigger(e)}if(this.flash.gate)switch(e){case t.jPlayer.event.progress:this._getFlashStatus(s);this._updateInterface();this._trigger(e);break;case t.jPlayer.event.timeupdate:this._getFlashStatus(s);this._updateInterface();this._trigger(e);break;case t.jPlayer.event.play:this._seeked();this._updateButtons(true);this._trigger(e);break;case t.jPlayer.event.pause:this._updateButtons(false);this._trigger(e);break;case t.jPlayer.event.ended:this._updateButtons(false);this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=true;this.status.waitForPlay=true;this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"});this._validString(this.status.media.poster)&&this.internal.poster.jq.show();this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show();this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media);this._updateButtons(false);this._error({type:t.jPlayer.error.URL,context:s.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking();this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked();this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return false},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent;this.status.currentPercentRelative=t.currentPercentRelative;this.status.currentPercentAbsolute=t.currentPercentAbsolute;this.status.currentTime=t.currentTime;this.status.duration=t.duration;this.status.videoWidth=t.videoWidth;this.status.videoHeight=t.videoHeight;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=false},_updateButtons:function(t){t===void 0?t=!this.status.paused:this.status.paused=!t;if(this.css.jq.play.length&&this.css.jq.pause.length)if(t){this.css.jq.play.hide();this.css.jq.pause.show()}else{this.css.jq.play.show();this.css.jq.pause.hide()}if(this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length)if(this.status.noFullWindow){this.css.jq.fullScreen.hide();this.css.jq.restoreScreen.hide()}else if(this.options.fullWindow){this.css.jq.fullScreen.hide();this.css.jq.restoreScreen.show()}else{this.css.jq.fullScreen.show();this.css.jq.restoreScreen.hide()}if(this.css.jq.repeat.length&&this.css.jq.repeatOff.length)if(this.options.loop){this.css.jq.repeat.hide();this.css.jq.repeatOff.show()}else{this.css.jq.repeat.show();this.css.jq.repeatOff.hide()}},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%");this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));this.css.jq.currentTime.length&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime));this.css.jq.duration.length&&this.css.jq.duration.text(this._convertTime(this.status.duration))},_convertTime:e.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},_resetGate:function(){this.html.audio.gate=false;this.html.video.gate=false;this.flash.gate=false},_resetActive:function(){this.html.active=false;this.flash.active=false},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>';return e.firstChild.href},_absoluteMediaUrls:function(e){var s=this;t.each(e,function(t,i){s.format[t]&&(e[t]=s._qualifyURL(i))});return e},setMedia:function(e){var s=this,i=false,a=this.status.media.poster!==e.poster;this._resetMedia();this._resetGate();this._resetActive();e=this._absoluteMediaUrls(e);t.each(this.formats,function(a,l){var n=s.format[l].media==="video";t.each(s.solutions,function(t,a){if(s[a].support[l]&&s._validString(e[l])){var o=a==="html";if(n){if(o){s.html.video.gate=true;s._html_setVideo(e);s.html.active=true}else{s.flash.gate=true;s._flash_setVideo(e);s.flash.active=true}s.css.jq.videoPlay.length&&s.css.jq.videoPlay.show();s.status.video=true}else{if(o){s.html.audio.gate=true;s._html_setAudio(e);s.html.active=true}else{s.flash.gate=true;s._flash_setAudio(e);s.flash.active=true}s.css.jq.videoPlay.length&&s.css.jq.videoPlay.hide();s.status.video=false}i=true;return false}});if(i)return false});if(i){if((!this.status.nativeVideoControls||!this.html.video.gate)&&this._validString(e.poster))a?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show();this.status.srcSet=true;this.status.media=t.extend({},e);this._updateButtons(false);this._updateInterface()}else this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus();this._updateButtons(false);this._updateInterface();this._seeked();this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia();this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia();this._resetGate();this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){if(this.options.keyEnabled)t.jPlayer.focus=this},play:function(t){t=typeof t==="number"?t:NaN;if(this.status.srcSet){this.focus();this.html.active?this._html_play(t):this.flash.active&&this._flash_play(t)}else this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(t){t=typeof t==="number"?t:NaN;this.status.srcSet?this.html.active?this._html_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,s){var i=this,a=typeof s==="function",l=Array.prototype.slice.call(arguments);if(typeof e==="string"){a&&l.splice(1,1);t.each(this.instances,function(){i.element!==this&&(!a||s.call(this.data("jPlayer"),i))&&this.jPlayer.apply(this,l)})}},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100);this.status.srcSet?this.html.active?this._html_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t);this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(e){this.options.muted=e;this.html.used&&this._html_setProperty("muted",e);this.flash.used&&this._flash_mute(e);if(!this.html.video.gate&&!this.html.audio.gate){this._updateMute(e);this._updateVolume(this.options.volume);this._trigger(t.jPlayer.event.volumechange)}},mute:function(t){this._muted(t===void 0?true:!!t)},unmute:function(t){this._muted(!(t===void 0||t))},_updateMute:function(t){if(t===void 0)t=this.options.muted;if(this.css.jq.mute.length&&this.css.jq.unmute.length)if(this.status.noVolume){this.css.jq.mute.hide();this.css.jq.unmute.hide()}else if(t){this.css.jq.mute.hide();this.css.jq.unmute.show()}else{this.css.jq.mute.show();this.css.jq.unmute.hide()}},volume:function(t){this.volumeWorker(t);this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(e){e=this._limitValue(e,0,1);this.options.volume=e;this.html.used&&this._html_setProperty("volume",e);
this.flash.used&&this._flash_volume(e);if(!this.html.video.gate&&!this.html.audio.gate){this._updateVolume(e);this._trigger(t.jPlayer.event.volumechange)}},volumeBar:function(e){if(this.css.jq.volumeBar.length){var s=t(e.currentTarget),i=s.offset(),a=e.pageX-i.left,l=s.width(),e=s.height()-e.pageY+i.top,s=s.height();this.options.verticalVolume?this.volume(e/s):this.volume(a/l)}this.options.muted&&this._muted(false)},_updateVolume:function(t){if(t===void 0)t=this.options.volume;t=this.options.muted?0:t;if(this.status.noVolume){this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide();this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide();this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()}else{this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show();if(this.css.jq.volumeBarValue.length){this.css.jq.volumeBarValue.show();this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](t*100+"%")}this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show()}},volumeMax:function(){this.volume(1);this.options.muted&&this._muted(false)},_cssSelectorAncestor:function(e){var s=this;this.options.cssSelectorAncestor=e;this._removeUiClass();this.ancestorJq=e?t(e):[];e&&this.ancestorJq.length!==1&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT});this._addUiClass();t.each(this.options.cssSelector,function(t,e){s._cssSelector(t,e)});this._updateInterface();this._updateButtons();this._updateAutohide();this._updateVolume();this._updateMute()},_cssSelector:function(e,s){var i=this;if(typeof s==="string")if(t.jPlayer.prototype.options.cssSelector[e]){this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer");this.options.cssSelector[e]=s;this.css.cs[e]=this.options.cssSelectorAncestor+" "+s;this.css.jq[e]=s?t(this.css.cs[e]):[];this.css.jq[e].length&&this[e]&&this.css.jq[e].bind("click.jPlayer",function(s){s.preventDefault();i[e](s);t(this).blur()});s&&this.css.jq[e].length!==1&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:s,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(e){if(this.css.jq.seekBar.length){var s=t(e.currentTarget),i=s.offset(),e=e.pageX-i.left,s=s.width();this.playHead(100*e/s)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var s=t(e.currentTarget),i=s.offset(),a=e.pageX-i.left,l=s.width(),e=s.height()-e.pageY+i.top,s=s.height();this.playbackRate((this.options.verticalPlaybackRate?e/s:a/l)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate)}},_updatePlaybackRate:function(){var t=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);if(this.status.playbackRateEnabled){this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show();if(this.css.jq.playbackRateBarValue.length){this.css.jq.playbackRateBarValue.show();this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](t*100+"%")}}else{this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide();this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide()}},repeat:function(){this._loop(true)},repeatOff:function(){this._loop(false)},_loop:function(e){if(this.options.loop!==e){this.options.loop=e;this._updateButtons();this._trigger(t.jPlayer.event.repeat)}},option:function(e,s){var i=e;if(arguments.length===0)return t.extend(true,{},this.options);if(typeof e==="string"){var a=e.split(".");if(s===void 0){for(var i=t.extend(true,{},this.options),l=0;l<a.length;l++)if(i[a[l]]!==void 0)i=i[a[l]];else{this._warning({type:t.jPlayer.warning.OPTION_KEY,context:e,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY});return}return i}for(var l=i={},n=0;n<a.length;n++)if(n<a.length-1){l[a[n]]={};l=l[a[n]]}else l[a[n]]=s}this._setOptions(i);return this},_setOptions:function(e){var s=this;t.each(e,function(t,e){s._setOption(t,e)});return this},_setOption:function(e,s){var i=this;switch(e){case"volume":this.volume(s);break;case"muted":this._muted(s);break;case"globalVolume":this.options[e]=s;break;case"cssSelectorAncestor":this._cssSelectorAncestor(s);break;case"cssSelector":t.each(s,function(t,e){i._cssSelector(t,e)});break;case"playbackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("playbackRate",s);this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate);this.html.used&&this._html_setProperty("defaultPlaybackRate",s);this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=s=this._limitValue(s,.1,this.options.maxPlaybackRate-.1);this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate+.1,16);this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==s){var a=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;if(!a||a&&!this.status.waitForPlay){a||(this.options[e]=s);s?this._requestFullscreen():this._exitFullscreen();a||this._setOption("fullWindow",s)}}break;case"fullWindow":if(this.options[e]!==s){this._removeUiClass();this.options[e]=s;this._refreshSize()}break;case"size":!this.options.fullWindow&&this.options[e].cssClass!==s.cssClass&&this._removeUiClass();this.options[e]=t.extend({},this.options[e],s);this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==s.cssClass&&this._removeUiClass();this.options[e]=t.extend({},this.options[e],s);this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],s);this._updateAutohide();break;case"loop":this._loop(s);break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],s);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],s);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow);this._restrictNativeVideoControls();this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],s);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case"emulateHtml":if(this.options[e]!==s)(this.options[e]=s)?this._emulateHtmlBridge():this._destroyHtmlBridge();break;case"timeFormat":this.options[e]=t.extend({},this.options[e],s);break;case"keyEnabled":this.options[e]=s;if(!s&&this===t.jPlayer.focus)t.jPlayer.focus=null;break;case"keyBindings":this.options[e]=t.extend(true,{},this.options[e],s);break;case"audioFullScreen":this.options[e]=s}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger(t.jPlayer.event.resize)},_setSize:function(){if(this.options.fullWindow){this.status.width=this.options.sizeFull.width;this.status.height=this.options.sizeFull.height;this.status.cssClass=this.options.sizeFull.cssClass}else{this.status.width=this.options.size.width;this.status.height=this.options.size.height;this.status.cssClass=this.options.size.cssClass}this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&(this.flash.active&&this.status.video)&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e=function(){t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId);t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};if(this.css.jq.gui.length){this.css.jq.gui.stop(true,true);clearTimeout(this.internal.autohideId);this.element.unbind(".jPlayerAutohide");this.css.jq.gui.unbind(".jPlayerAutohide");if(this.status.nativeVideoControls)this.css.jq.gui.hide();else if(this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored){this.element.bind("mousemove.jPlayer.jPlayerAutohide",e);this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",e);this.css.jq.gui.hide()}else this.css.jq.gui.show()}},fullScreen:function(){this._setOption("fullScreen",true)},restoreScreen:function(){this._setOption("fullScreen",false)},_fullscreenAddEventListeners:function(){var e=this,s=t.jPlayer.nativeFeatures.fullscreen;if(s.api.fullscreenEnabled&&s.event.fullscreenchange){if(typeof this.internal.fullscreenchangeHandler!=="function")this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()};document.addEventListener(s.event.fullscreenchange,this.internal.fullscreenchangeHandler,false)}},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.addEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,false)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",false)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],s=t.jPlayer.nativeFeatures.fullscreen;if(s.used.webkitVideo)e=this.htmlElement.video;s.api.fullscreenEnabled&&s.api.requestFullscreen(e)},_exitFullscreen:function(){var e=t.jPlayer.nativeFeatures.fullscreen,s;if(e.used.webkitVideo)s=this.htmlElement.video;e.api.fullscreenEnabled&&e.api.exitFullscreen(s)},_html_initMedia:function(e){var s=t(this.htmlElement.media).empty();t.each(e.track||[],function(t,e){var i=document.createElement("track");i.setAttribute("kind",e.kind?e.kind:"");i.setAttribute("src",e.src?e.src:"");i.setAttribute("srclang",e.srclang?e.srclang:"");i.setAttribute("label",e.label?e.label:"");e.def&&i.setAttribute("default",e.def);s.append(i)});this.htmlElement.media.src=this.status.src;this.options.preload!=="none"&&this._html_load();this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var s=this;t.each(this.formats,function(t,i){if(s.html.support[i]&&e[i]){s.status.src=e[i];s.status.format[i]=true;s.status.formatType=i;return false}})},_html_setAudio:function(t){this._html_setFormat(t);this.htmlElement.media=this.htmlElement.audio;this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t);if(this.status.nativeVideoControls)this.htmlElement.video.poster=this._validString(t.poster)?t.poster:"";this.htmlElement.media=this.htmlElement.video;this._html_initMedia(t)},_html_resetMedia:function(){if(this.htmlElement.media){this.htmlElement.media.id===this.internal.video.id&&!this.status.nativeVideoControls&&this.internal.video.jq.css({width:"0px",height:"0px"});this.htmlElement.media.pause()}},_html_clearMedia:function(){if(this.htmlElement.media){this.htmlElement.media.src="about:blank";this.htmlElement.media.load()}},_html_load:function(){if(this.status.waitForLoad){this.status.waitForLoad=false;this.htmlElement.media.load()}clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,s=this.htmlElement.media;this._html_load();if(isNaN(t))s.play();else{this.internal.cmdsIgnored&&s.play();try{if(!s.seekable||typeof s.seekable==="object"&&s.seekable.length>0){s.currentTime=t;s.play()}else throw 1}catch(i){this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},250);return}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,s=this.htmlElement.media;t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId);s.pause();if(!isNaN(t))try{if(!s.seekable||typeof s.seekable==="object"&&s.seekable.length>0)s.currentTime=t;else throw 1}catch(i){this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},250);return}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,s=this.htmlElement.media;this._html_load();try{if(typeof s.seekable==="object"&&s.seekable.length>0)s.currentTime=t*s.seekable.end(s.seekable.length-1)/100;else if(s.duration>0&&!isNaN(s.duration))s.currentTime=t*s.duration/100;else throw"e"}catch(i){this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},250);return}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();if(this.status.video){this.internal.poster.jq.hide();this.internal.video.jq.css({width:this.status.width,height:this.status.height})}}},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e);this.html.video.available&&(this.htmlElement.video[t]=e)},_flash_setAudio:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4a":case"fla":s._getMovie().fl_setAudio_m4a(e[i]);break;case"mp3":s._getMovie().fl_setAudio_mp3(e[i]);break;case"rtmpa":s._getMovie().fl_setAudio_rtmp(e[i])}s.status.src=e[i];s.status.format[i]=true;s.status.formatType=i;return false}});if(this.options.preload==="auto"){this._flash_load();this.status.waitForLoad=false}}catch(i){this._flashError(i)}},_flash_setVideo:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4v":case"flv":s._getMovie().fl_setVideo_m4v(e[i]);break;case"rtmpv":s._getMovie().fl_setVideo_rtmp(e[i])}s.status.src=e[i];s.status.format[i]=true;s.status.formatType=i;return false}});if(this.options.preload==="auto"){this._flash_load();this.status.waitForLoad=false}}catch(i){this._flashError(i)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"});this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=false},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(e){this._flashError(e)}this.status.waitForLoad=false;this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(e){this._flashError(e)}if(t>0){this.status.waitForLoad=false;this._flash_checkWaitForPlay()}},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide();if(this.status.video){this.internal.poster.jq.hide();this.internal.flash.jq.css({width:this.status.width,height:this.status.height})}}},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(e){this._flashError(e)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t=0,e;if(window.ActiveXObject)try{if(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var s=e.GetVariable("$version");if(s){s=s.split(" ")[1].split(",");t=parseInt(s[0],10)+"."+parseInt(s[1],10)}}}catch(i){}else if(navigator.plugins&&navigator.mimeTypes.length>0)(e=navigator.plugins["Shockwave Flash"])&&(t=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1"));return t*1},_checkForFlash:function(t){var e=false;this._getFlashPluginVersion()>=t&&(e=true);return e},_validString:function(t){return t&&typeof t==="string"},_limitValue:function(t,e,s){return t<e?e:t>s?s:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var s;s=this.internal.ready?"FLASH_DISABLED":"FLASH";this._error({type:t.jPlayer.error[s],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[s]+e.message,hint:t.jPlayer.errorHint[s]});this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e);this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(e){this._trigger(t.jPlayer.event.warning,void 0,e);this.options.warningAlerts&&this._alert("Warning!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_alert:function(t){t="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?console&&console.log&&console.log(t):alert(t)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),function(t,s){e.internal.domNode[s]=function(t){e[s](t)}});t.each(t.jPlayer.event,function(s,i){var a=true;t.each(t.jPlayer.reservedEvent.split(/\s+/g),function(t,e){if(e===s)return a=false});a&&e.element.bind(i+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(s,false,true);e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.status[s]});t.each(t.jPlayer.emulateOptions.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.options[s]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");t.each((t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions).split(/\s+/g),function(t,s){delete e.internal.domNode[s]})}};t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "};t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."};t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});(function(t,e){jPlayerPlaylist=function(e,s,i){var a=this;this.current=0;this.loop=false;this.shuffled=false;this.removing=false;this.cssSelector=t.extend({},this._cssSelector,e);this.options=t.extend(true,{keyBindings:{next:{key:221,fn:function(){a.next()}},previous:{key:219,fn:function(){a.previous()}},shuffle:{key:83,fn:function(){a.shuffle()}}},stateClass:{shuffled:"jp-state-shuffled"}},this._options,i);this.playlist=[];this.original=[];this._initPlaylist(s);this.cssSelector.details=this.cssSelector.cssSelectorAncestor+" .jp-details";this.cssSelector.playlist=this.cssSelector.cssSelectorAncestor+" .jp-playlist";this.cssSelector.next=this.cssSelector.cssSelectorAncestor+" .jp-next";this.cssSelector.previous=this.cssSelector.cssSelectorAncestor+" .jp-previous";this.cssSelector.shuffle=this.cssSelector.cssSelectorAncestor+" .jp-shuffle";this.cssSelector.shuffleOff=this.cssSelector.cssSelectorAncestor+" .jp-shuffle-off";this.options.cssSelectorAncestor=this.cssSelector.cssSelectorAncestor;this.options.repeat=function(t){a.loop=t.jPlayer.options.loop};t(this.cssSelector.jPlayer).bind(t.jPlayer.event.ready,function(){a._init()});t(this.cssSelector.jPlayer).bind(t.jPlayer.event.ended,function(){a.next()});t(this.cssSelector.jPlayer).bind(t.jPlayer.event.play,function(){t(this).jPlayer("pauseOthers")});t(this.cssSelector.jPlayer).bind(t.jPlayer.event.resize,function(e){if(e.jPlayer.options.fullScreen){t(a.cssSelector.details).show()}else{t(a.cssSelector.details).hide()}});t(this.cssSelector.previous).click(function(t){t.preventDefault();a.previous();a.blur(this)});t(this.cssSelector.next).click(function(t){t.preventDefault();a.next();a.blur(this)});t(this.cssSelector.shuffle).click(function(e){e.preventDefault();if(a.shuffled&&t(a.cssSelector.jPlayer).jPlayer("option","useStateClassSkin")){a.shuffle(false)}else{a.shuffle(true)}a.blur(this)});t(this.cssSelector.shuffleOff).click(function(t){t.preventDefault();a.shuffle(false);a.blur(this)}).hide();if(!this.options.fullScreen){t(this.cssSelector.details).hide()}t(this.cssSelector.playlist+" ul").empty();this._createItemHandlers();t(this.cssSelector.jPlayer).jPlayer(this.options)};jPlayerPlaylist.prototype={_cssSelector:{jPlayer:"#jquery_jplayer_1",cssSelectorAncestor:"#jp_container_1"},_options:{playlistOptions:{autoPlay:false,loopOnPrevious:false,shuffleOnLoop:true,enableRemoveControls:false,displayTime:"slow",addTime:"fast",removeTime:"fast",shuffleTime:"slow",itemClass:"jp-playlist-item",freeGroupClass:"jp-free-media",freeItemClass:"jp-playlist-item-free",removeItemClass:"jp-playlist-item-remove"}},option:function(t,s){if(s===e){return this.options.playlistOptions[t]}this.options.playlistOptions[t]=s;switch(t){case"enableRemoveControls":this._updateControls();break;case"itemClass":case"freeGroupClass":case"freeItemClass":case"removeItemClass":this._refresh(true);this._createItemHandlers();break}return this},_init:function(){var t=this;this._refresh(function(){if(t.options.playlistOptions.autoPlay){t.play(t.current)}else{t.select(t.current)}})},_initPlaylist:function(e){this.current=0;this.shuffled=false;this.removing=false;this.original=t.extend(true,[],e);this._originalPlaylist()},_originalPlaylist:function(){var e=this;this.playlist=[];t.each(this.original,function(t){e.playlist[t]=e.original[t]})},_refresh:function(e){var s=this;if(e&&!t.isFunction(e)){t(this.cssSelector.playlist+" ul").empty();t.each(this.playlist,function(e){t(s.cssSelector.playlist+" ul").append(s._createListItem(s.playlist[e]))});this._updateControls()}else{var i=t(this.cssSelector.playlist+" ul").children().length?this.options.playlistOptions.displayTime:0;t(this.cssSelector.playlist+" ul").slideUp(i,function(){var i=t(this);t(this).empty();t.each(s.playlist,function(t){i.append(s._createListItem(s.playlist[t]))});s._updateControls();if(t.isFunction(e)){e()}if(s.playlist.length){t(this).slideDown(s.options.playlistOptions.displayTime)}else{t(this).show()}})}},_createListItem:function(e){var s=this;var i="<li><div>";i+="<a href='javascript:;' class='"+this.options.playlistOptions.removeItemClass+"'>&times;</a>";if(e.free){var a=true;i+="<span class='"+this.options.playlistOptions.freeGroupClass+"'>(";t.each(e,function(e,l){if(t.jPlayer.prototype.format[e]){if(a){a=false}else{i+=" | "}i+="<a class='"+s.options.playlistOptions.freeItemClass+"' href='"+l+"' tabindex='-1'>"+e+"</a>"}});i+=")</span>"}i+="<a href='javascript:;' class='"+this.options.playlistOptions.itemClass+"' tabindex='0'>"+e.title+(e.artist?" <span class='jp-artist'>by "+e.artist+"</span>":"")+"</a>";i+="</div></li>";return i},_createItemHandlers:function(){var e=this;t(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.itemClass).on("click","a."+this.options.playlistOptions.itemClass,function(s){s.preventDefault();var i=t(this).parent().parent().index();if(e.current!==i){e.play(i)}else{t(e.cssSelector.jPlayer).jPlayer("play")}e.blur(this)});t(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.freeItemClass).on("click","a."+this.options.playlistOptions.freeItemClass,function(s){s.preventDefault();t(this).parent().parent().find("."+e.options.playlistOptions.itemClass).click();e.blur(this)});t(this.cssSelector.playlist).off("click","a."+this.options.playlistOptions.removeItemClass).on("click","a."+this.options.playlistOptions.removeItemClass,function(s){s.preventDefault();var i=t(this).parent().parent().index();e.remove(i);e.blur(this)})},_updateControls:function(){if(this.options.playlistOptions.enableRemoveControls){t(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).show()}else{t(this.cssSelector.playlist+" ."+this.options.playlistOptions.removeItemClass).hide()}if(this.shuffled){t(this.cssSelector.jPlayer).jPlayer("addStateClass","shuffled")}else{t(this.cssSelector.jPlayer).jPlayer("removeStateClass","shuffled")}if(t(this.cssSelector.shuffle).length&&t(this.cssSelector.shuffleOff).length){if(this.shuffled){t(this.cssSelector.shuffleOff).show();t(this.cssSelector.shuffle).hide()}else{t(this.cssSelector.shuffleOff).hide();t(this.cssSelector.shuffle).show()}}},_highlight:function(s){if(this.playlist.length&&s!==e){t(this.cssSelector.playlist+" .jp-playlist-current").removeClass("jp-playlist-current");t(this.cssSelector.playlist+" li:nth-child("+(s+1)+")").addClass("jp-playlist-current").find(".jp-playlist-item").addClass("jp-playlist-current")}},setPlaylist:function(t){this._initPlaylist(t);this._init()},add:function(e,s){t(this.cssSelector.playlist+" ul").append(this._createListItem(e)).find("li:last-child").hide().slideDown(this.options.playlistOptions.addTime);this._updateControls();this.original.push(e);this.playlist.push(e);if(s){this.play(this.playlist.length-1)}else{if(this.original.length===1){this.select(0)}}},remove:function(s){var i=this;if(s===e){this._initPlaylist([]);this._refresh(function(){t(i.cssSelector.jPlayer).jPlayer("clearMedia")});return true}else{if(this.removing){return false}else{s=s<0?i.original.length+s:s;if(0<=s&&s<this.playlist.length){this.removing=true;t(this.cssSelector.playlist+" li:nth-child("+(s+1)+")").slideUp(this.options.playlistOptions.removeTime,function(){t(this).remove();if(i.shuffled){var e=i.playlist[s];t.each(i.original,function(t){if(i.original[t]===e){i.original.splice(t,1);return false}});i.playlist.splice(s,1)}else{i.original.splice(s,1);i.playlist.splice(s,1)}if(i.original.length){if(s===i.current){i.current=s<i.original.length?i.current:i.original.length-1;i.select(i.current)}else if(s<i.current){i.current--}}else{t(i.cssSelector.jPlayer).jPlayer("clearMedia");i.current=0;i.shuffled=false;i._updateControls()}i.removing=false})}return true}}},select:function(e){e=e<0?this.original.length+e:e;if(0<=e&&e<this.playlist.length){this.current=e;this._highlight(e);t(this.cssSelector.jPlayer).jPlayer("setMedia",this.playlist[this.current])}else{this.current=0}},play:function(s){s=s<0?this.original.length+s:s;if(0<=s&&s<this.playlist.length){if(this.playlist.length){this.select(s);t(this.cssSelector.jPlayer).jPlayer("play")}}else if(s===e){t(this.cssSelector.jPlayer).jPlayer("play")}},pause:function(){t(this.cssSelector.jPlayer).jPlayer("pause")},next:function(){var t=this.current+1<this.playlist.length?this.current+1:0;if(this.loop){if(t===0&&this.shuffled&&this.options.playlistOptions.shuffleOnLoop&&this.playlist.length>1){this.shuffle(true,true)}else{this.play(t)}}else{if(t>0){this.play(t)}}},previous:function(){var t=this.current-1>=0?this.current-1:this.playlist.length-1;if(this.loop&&this.options.playlistOptions.loopOnPrevious||t<this.playlist.length-1){this.play(t)}},shuffle:function(s,i){var a=this;if(s===e){s=!this.shuffled}if(s||s!==this.shuffled){t(this.cssSelector.playlist+" ul").slideUp(this.options.playlistOptions.shuffleTime,function(){a.shuffled=s;if(s){a.playlist.sort(function(){return.5-Math.random()})}else{a._originalPlaylist()}a._refresh(true);if(i||!t(a.cssSelector.jPlayer).data("jPlayer").status.paused){a.play(0)}else{a.select(0)}t(this).slideDown(a.options.playlistOptions.shuffleTime)})}},blur:function(e){if(t(this.cssSelector.jPlayer).jPlayer("option","autoBlur")){t(e).blur()}}}})(jQuery);